{"ast":null,"code":"import _slicedToArray from\"C:/Users/nghia/cloneArcade/front-end/user_website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect,useLayoutEffect}from\"react\";import axios from'axios';import'../../../../node_modules/bootstrap/dist/css/bootstrap.min.css';import'./friend-list.css';import friendList from'../../../Assets/Images/App/friend-list.png';import facebook from'../../../Assets/Images/Icons/facebook.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FriendList(_ref){var user=_ref.user;var openAddFriendForm=function openAddFriendForm(){document.getElementById('friend-list__add').style.display='none';document.getElementById('friend-list__add-form').style.display='flex';};var inputEmail=document.getElementById('friend-list__add-email');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listFriend=_useState2[0],setListFriend=_useState2[1];useEffect(function(){if(user!=null)getFriend();},[user]);console.log(listFriend);console.log(user);var getFriend=function getFriend(){axios.get('/friend/get-by-user-id/'+user.id).then(function(res){console.log(res.data.post);setListFriend(res.data.post);}).catch(function(err){console.log(err);});};var config={headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}};var AddFriendbyEmail=function AddFriendbyEmail(){if(inputEmail.value!=null){if(user.email!=inputEmail.value){axios.post('/friend',{UserID:user.id,FriendEmail:inputEmail.value},config).then(function(response){getFriend();}).catch(function(err){alert('Friend exists or cant find');});}else alert('Can not add your self');}};return user?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__heading\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__friend active\",children:[/*#__PURE__*/_jsx(\"img\",{src:friendList,className:\"friend-list__friend-img\",alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friend-list__friend-name\",children:\"FRIENDS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__contact\",children:[/*#__PURE__*/_jsx(\"img\",{src:facebook,className:\"friend-list__friend-img\",alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friend-list__friend-name\",children:\"CONNECT\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-group list-group-flush\",children:listFriend?listFriend.map(function(friend){return/*#__PURE__*/_jsx(\"div\",{className:\"friend-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"friend-info__item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"friend-list__title-img\",src:axios.defaults.baseURL+'uploads/images/users/'+friend.FriendAvatar,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friend-list__title-name\",children:friend.FriendEmail}),/*#__PURE__*/_jsx(\"button\",{className:\"friend-list__title-add\",children:\"Invite\"})]})},friend.id);}):null}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__footer\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"friend-list__add\",id:\"friend-list__add\",onClick:openAddFriendForm,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus friend-list__add-icon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friend-list__friend-name\",children:\"Add Friend\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-list__add-email\",id:\"friend-list__add-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"\",id:\"friend-list__add-email\",placeholder:\"Friend Email\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:AddFriendbyEmail,children:\"Add\"})]})]})]})}):null;}export default FriendList;","map":{"version":3,"sources":["C:/Users/nghia/cloneArcade/front-end/user_website/src/Pages/HomePage/FriendList/friend-list.jsx"],"names":["React","useState","useRef","useEffect","useLayoutEffect","axios","friendList","facebook","FriendList","user","openAddFriendForm","document","getElementById","style","display","inputEmail","listFriend","setListFriend","getFriend","console","log","get","id","then","res","data","post","catch","err","config","headers","Authorization","localStorage","getItem","AddFriendbyEmail","value","email","UserID","FriendEmail","response","alert","map","friend","defaults","baseURL","FriendAvatar"],"mappings":"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","sourcesContent":["import React, {useState,useRef,useEffect,useLayoutEffect} from \"react\";\r\nimport axios from 'axios'\r\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.min.css'\r\nimport './friend-list.css'\r\nimport friendList from '../../../Assets/Images/App/friend-list.png'\r\nimport facebook from '../../../Assets/Images/Icons/facebook.png'\r\n\r\n\r\nfunction FriendList({user}) {\r\n    const openAddFriendForm = ()=> {\r\n        document.getElementById('friend-list__add').style.display = 'none';\r\n        document.getElementById('friend-list__add-form').style.display = 'flex';\r\n    }\r\n    \r\n    const inputEmail = document.getElementById('friend-list__add-email')\r\n    const [listFriend, setListFriend] = useState([])\r\n\r\n\r\n    useEffect(() => {\r\n        if(user!=null)\r\n        getFriend()\r\n    },[user])\r\n\r\n    console.log(listFriend);\r\n    console.log(user);\r\n    const getFriend = () => {\r\n        axios.get('/friend/get-by-user-id/' + user.id )\r\n            .then(res => {\r\n                console.log(res.data.post);\r\n                setListFriend(res.data.post)\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n    \r\n\r\n    const config = {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n    };\r\n    \r\n\r\n    const AddFriendbyEmail = () => {\r\n        if(inputEmail.value !=null)\r\n        {\r\n            if(user.email != inputEmail.value)\r\n            {\r\n                axios.post('/friend', {\r\n                    UserID : user.id,\r\n                    FriendEmail : inputEmail.value\r\n                    }, config)\r\n                    .then(response => {\r\n                        getFriend()\r\n                    })\r\n                    .catch(err => {\r\n                        alert('Friend exists or cant find')\r\n                })\r\n            }\r\n            else alert('Can not add your self')\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (user) ? (\r\n        <div>\r\n            <div className=\"friend-list\">      \r\n                <div className=\"friend-list__heading\">\r\n                    <div className=\"friend-list__friend active\">\r\n                        <img src={friendList} className=\"friend-list__friend-img\" alt=\"\" />\r\n                        <div className=\"friend-list__friend-name\">FRIENDS</div>\r\n                    </div>\r\n                    <div className=\"friend-list__contact\">\r\n                        <img src={facebook} className=\"friend-list__friend-img\" alt=\"\" />\r\n                        <div className=\"friend-list__friend-name\">CONNECT</div>\r\n                    </div>\r\n                </div>\r\n    \r\n                <div className=\"list-group list-group-flush\">\r\n                    {   \r\n                        listFriend ? listFriend.map((friend) => (\r\n                            <div className=\"friend-info\" key={friend.id}>\r\n                                <div className=\"friend-info__item\">\r\n                                    <img className=\"friend-list__title-img\" src={axios.defaults.baseURL + 'uploads/images/users/' + friend.FriendAvatar} alt=\"\" />\r\n                                    <div className=\"friend-list__title-name\">{friend.FriendEmail}</div>\r\n                                    <button className=\"friend-list__title-add\">Invite</button>\r\n                                </div>\r\n                            </div>\r\n                            ))\r\n                            :null\r\n                    }\r\n                </div>\r\n                <div className=\"friend-list__footer\">\r\n                    <button className=\"friend-list__add\" id=\"friend-list__add\" onClick={openAddFriendForm}>\r\n                        <i className=\"fas fa-plus friend-list__add-icon\"></i>\r\n                        <div className=\"friend-list__friend-name\">Add Friend</div>\r\n                    </button>\r\n                    <div className=\"friend-list__add-email\" id=\"friend-list__add-form\">\r\n                        <input type=\"text\" className=\"form-control\" name='' id=\"friend-list__add-email\" placeholder=\"Friend Email\"/>\r\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={AddFriendbyEmail}>Add</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : null;\r\n}\r\n \r\nexport default FriendList "]},"metadata":{},"sourceType":"module"}